{"title":"CF690A2 题解","tags":["题解"],"uptime":1626427616}
---
考虑有 $0$ 个金币时哪些人会存活。$1$ 号、$2$ 号显然存活，$3$ 号会被 $1,2$ 反对所以无法存活，$4$ 号会获得 $3$ 的赞同票所以可以存活。可以发现，存活的人是 $1,2,4,8,\cdots$。

有 $1$ 个金币时，$1,2,3,4$ 显然存活，$5$ 无法获得多于 $2$ 个选票所以无法存活，$6$ 会获得 $5$ 的赞同票所以可以存活。可以发现，存活的人是 $1,2,3,4,6,10\cdots$。

所以得出结论，有 $B$ 个金币时，存活的人的集合是 $\{1,2,3,...,2B\}\cup(2B+\{1,2,4,8...\})$。

- 当 $n \bmod 2 = 1$ 时，$B=(n-1)/2$ 时 $n$会第一次在集合中出现，答案为 $\dfrac{n-1}2$。
- 当 $n\bmod 2 = 0$ 时，找到最大的 $2$ 的次幂 $p$ 使得 $p\le n$，此时 $n$ 会在 $B=\dfrac{n-p}2$ 时第一次在集合中出现，答案为 $\dfrac{n-p}2$。

